## Подготовим почву для работы с Playwright Agents

**Условия для работы Playwright Agents**

1. VS Code ^1.105
2. Playwright/test ^1.56.1 (в проекте)
3. AI chat (например: GitHub Сopilot)

Для агентов нужны расширения ( extensions) с AI.
Агенты в пакете доступны только для:

- VS Code
- Claude Code
- Open Code

Подробнее [здесь](https://playwright.dev/docs/test-agents).
<br></br>
Можно извернуться и подключить и к другим расширениям, предоставляющим доступ к AI. Пока воспользуемся GitHub Copilot. Установите необходимые расширения и авторизируйтесь через свой аккаунт в gitHub (через Vpn).

**Необходимые расширения VS Code:**

1. GitHub Copilot
2. GitHub Copilot Chat
3. Playwright Test for VS Code (optional)

**Подготавливаем окружение:**

1. Создадим проект Playwright Agents (сейчас это просто пустая папка)
2. Инициализируем проект в терминале: `npm init playwright@latest ` (больше [здесь](https://playwright.dev/docs/intro))

   Будет установлено несколько пакетов (say yes, choose TypeScript and so on)

   ![](/src/Снимок%20экрана%202025-11-08%20143438.png)

3. После инициализации проекта появится его структура. Обратите внимание на файл `example.spec.ts` там уже есть пример теста.

   ![](/src/Снимок%20экрана%202025-11-08%20143709.png)

4. Активируем агентов.

   В терминале вводим команду `npx playwright init-agents --loop=vscode`

   ![](/src/Снимок%20экрана%202025-11-08%20161413.png)

У нас в проекте установились:

- сервер playwright-test (инструменты для тестирования)
- модели агентов generator, healer, planner (инструкции для выполнения)
- файл в папке `tests/seed.spec.ts` (готовый контекст который нужен для начального выполнения, включен в контекст planner и generator)

5. Запустим сервер mcp Playwright-test.

   можно прямо из файла `mcp.json`

   ![](/src/Снимок%20экрана%202025-11-08%20170248.png)

   Убедимся, что сервер запущен

   ![](/src/Снимок%20экрана%202025-11-08%20170314.png)

6. Убедимся, что playwright агенты появились в чате

   ![](/src/Снимок%20экрана%202025-11-08%20170810.png')

7. Готово!
